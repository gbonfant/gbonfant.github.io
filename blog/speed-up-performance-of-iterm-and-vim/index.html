
<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <title>Speed up performance of iTerm and Vim - Gus Bonfant</title>
  <meta name="author" content="Gus Bonfant">
  <meta name="description" content="Speed up performance of iTerm2, Terminal.app and Vim in Mac OS X">

  

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <link rel="canonical" href="http://www.gbonfant.com/blog/speed-up-performance-of-iterm-and-vim">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Gus Bonfant" type="application/atom+xml">
  <link href="//fonts.googleapis.com/css?family=Lato&subset=latin-ext" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-52415972-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body >
  <header role="banner"><hgroup>
  <h1><a href="/">Gus Bonfant</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

<br>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Speed up performance of iTerm and Vim</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-16T15:06:30+02:00" pubdate data-updated="true">Jul 16<sup>th</sup>, 2014</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Over a year ago I switched to iTerm2 after several years of happily using Terminal.app on Mac OS X, and although I&rsquo;m more than happy with the change I&rsquo;ve noticed that in the last weeks the overall responsiveness of my terminal has declined. Initially I thought zsh and particularly <a href="https://github.com/robbyrussell/oh-my-zsh">oh-my-zsh</a> were at fault, and thus I switched to <a href="http://fishshell.com">fish</a>, my shell was definitely faster, and after getting used to the non POSIX world of fish I even became more productive. However, it didn&rsquo;t actually solve the issues with the terminal itself, and after moving my Vim environment to the shell I experienced horrible delays in the rendering response and startup of iTerm.</p>

<h2>How I solved it.</h2>

<p>First of all I tackled the slow starting time on iTerm, OS X keeps system logs in <code>/var/log/asl</code> and although great after years of usage they just end up piling up, so I just cleared them:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>sudo rm /var/log/asl/*.asl
</span></code></pre></td></tr></table></div></figure>


<blockquote><p>It&rsquo;s important that you don&rsquo;t remove all the files in the asl directory as they also host other files unrelated to the shell.</p></blockquote>

<p>Secondly I changed the startup shell from its default value to <code>/usr/local/bin/fish -l</code>, this can be done under Profiles > General > Command in iTerm 2 and the value you need to add will depend on which shell you are using and where in your filesystem it is located, for instance you might want to set it up to <code>/bin/bash -l</code> if you are using bash.</p>

<p><img src="/images/speed_up_iterm.png" title="'Configuration window for iTerm2'" ></p>

<p>This improved the overall snappiness of iTerm2 but I still had an issue with the rendering performance of Vim.</p>

<h2>Making Vim buttery smooth</h2>

<p>This was an easy one, MacVim is fast, why Vim isn&rsquo;t? I still haven&rsquo;t found an answer to this question but I had no intention of going back to running Vim on a separate GUI shell, fortunately you can use MacVim as a CLI by appending the flag <code>-v</code> then simply alias it to vim, for fish that would be:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="k">function </span>vim
</span><span class='line'>  mvim -v <span class="nv">$argv</span>
</span><span class='line'>end
</span></code></pre></td></tr></table></div></figure>


<p>Now your iTerm should be faster and Vim rendering smoother.</p>
</div>


  <footer>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      

<span class="categories">
  
    <a class='category' href='/blog/categories/fish/'>fish</a>, <a class='category' href='/blog/categories/performance/'>performance</a>, <a class='category' href='/blog/categories/vim/'>vim</a>
  
</span>


    </p>
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/responding-to-scope-changes-with-controller-as-syntax/"
           title="Previous Post: Responding to scope changes with controller as syntax">&laquo; Responding to scope changes with controller as syntax</a>
      
      
    </p>
  </footer>
</article>

</div>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Gus Bonfant |
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>.
</p>

</footer>
  











</body>
</html>
